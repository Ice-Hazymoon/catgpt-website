import{g as he,x as ge,h as V,i as Ne,j as ye,u as ke,c as Z,a as xe,k as we,_ as Se}from"./Navbar.0f0e4624.js";import{V as ae,a as q,s as C,x as O,W as I,X as Ce,y as se,v as U,S as re,F as ue,Y as Ie,H as $,Z as _e,o as A,b as D,e as _,r as pe,h as W,u as s,$ as Oe,P as Ae,t as ie,f as R,i as E,A as j,c as F,G as X,L as Te,q as Re,B as Pe,D as Ve,J as Le}from"./entry.b980ff2a.js";import{m as ze,u as K,o as P,F as Me,c as je,l as ne,f as Be,K as De,a as Ee,H as Q,T as be,t as oe,N as te,p as Ke,O as He,b as L,r as Fe,n as $e,S as Ge}from"./Dialog.876fc127.js";import{_ as Ue}from"./Container.856f971b.js";import{u as qe}from"./index.b7543822.js";import{C as We,I as Je,a as Ye,h as Xe}from"./handleStream.0f3eaa1f.js";import{I as Ze}from"./IconMessageLanguage.924276d8.js";import"./nuxt-link.60028201.js";import"./LoadingSvg.54a92436.js";function Qe({container:a,accept:c,walk:p,enabled:g}){ae(()=>{let e=a.value;if(!e||g!==void 0&&!g.value)return;let n=ze(a);if(!n)return;let d=Object.assign(o=>c(o),{acceptNode:c}),N=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;N.nextNode();)p(N.currentNode)})}function ea(a,c){return a===c}var aa=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(aa||{}),na=(a=>(a[a.Single=0]="Single",a[a.Multi=1]="Multi",a))(na||{}),ta=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(ta||{});let fe=Symbol("ComboboxContext");function ee(a){let c=_e(fe,null);if(c===null){let p=new Error(`<${a} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,ee),p}return c}let oa=q({name:"Combobox",emits:{"update:modelValue":a=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ea},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(a,{slots:c,attrs:p,emit:g}){let e=C(1),n=C(null),d=C(null),N=C(null),o=C(null),r=C({static:!1,hold:!1}),v=C([]),w=C(null),T=C(1),y=C(!1);function B(t=m=>m){let m=w.value!==null?v.value[w.value]:null,l=He(t(v.value.slice()),S=>P(S.dataRef.domRef)),u=m?l.indexOf(m):null;return u===-1&&(u=null),{options:l,activeOptionIndex:u}}let z=O(()=>a.multiple?1:0),i=O(()=>a.nullable),[h,x]=he(O(()=>a.modelValue===void 0?K(z.value,{[1]:[],[0]:void 0}):a.modelValue),t=>g("update:modelValue",t),O(()=>a.defaultValue)),b={comboboxState:e,value:h,mode:z,compare(t,m){if(typeof a.by=="string"){let l=a.by;return t?.[l]===m?.[l]}return a.by(t,m)},defaultValue:O(()=>a.defaultValue),nullable:i,inputRef:d,labelRef:n,buttonRef:N,optionsRef:o,disabled:O(()=>a.disabled),options:v,change(t){x(t)},activeOptionIndex:O(()=>{if(y.value&&w.value===null&&v.value.length>0){let t=v.value.findIndex(m=>!m.dataRef.disabled);t!==-1&&(w.value=t)}return w.value}),activationTrigger:T,optionsPropsRef:r,closeCombobox(){y.value=!1,!a.disabled&&e.value!==1&&(e.value=1,w.value=null)},openCombobox(){if(y.value=!0,a.disabled||e.value===0)return;let t=v.value.findIndex(m=>{let l=I(m.dataRef.value);return K(z.value,{[0]:()=>b.compare(I(b.value.value),I(l)),[1]:()=>I(b.value.value).some(u=>b.compare(I(u),I(l)))})});t!==-1&&(w.value=t),e.value=0},goToOption(t,m,l){if(y.value=!1,a.disabled||o.value&&!r.value.static&&e.value===1)return;let u=B();if(u.activeOptionIndex===null){let k=u.options.findIndex(J=>!J.dataRef.disabled);k!==-1&&(u.activeOptionIndex=k)}let S=ge(t===V.Specific?{focus:V.Specific,id:m}:{focus:t},{resolveItems:()=>u.options,resolveActiveIndex:()=>u.activeOptionIndex,resolveId:k=>k.id,resolveDisabled:k=>k.dataRef.disabled});w.value=S,T.value=l??1,v.value=u.options},selectOption(t){let m=v.value.find(u=>u.id===t);if(!m)return;let{dataRef:l}=m;x(K(z.value,{[0]:()=>l.value,[1]:()=>{let u=I(b.value.value).slice(),S=I(l.value),k=u.findIndex(J=>b.compare(S,I(J)));return k===-1?u.push(S):u.splice(k,1),u}}))},selectActiveOption(){if(b.activeOptionIndex.value===null)return;let{dataRef:t,id:m}=v.value[b.activeOptionIndex.value];x(K(z.value,{[0]:()=>t.value,[1]:()=>{let l=I(b.value.value).slice(),u=I(t.value),S=l.findIndex(k=>b.compare(u,I(k)));return S===-1?l.push(u):l.splice(S,1),l}})),b.goToOption(V.Specific,m)},registerOption(t,m){let l={id:t,dataRef:m},u=B(S=>[...S,l]);if(w.value===null){let S=m.value.value;K(z.value,{[0]:()=>b.compare(I(b.value.value),I(S)),[1]:()=>I(b.value.value).some(k=>b.compare(I(k),I(S)))})&&(u.activeOptionIndex=u.options.indexOf(l))}v.value=u.options,w.value=u.activeOptionIndex,T.value=1,u.options.some(S=>!P(S.dataRef.domRef))&&requestAnimationFrame(()=>{let S=B();v.value=S.options,w.value=S.activeOptionIndex})},unregisterOption(t){var m;b.activeOptionIndex.value!==null&&((m=b.options.value[b.activeOptionIndex.value])==null?void 0:m.id)===t&&(y.value=!0);let l=B(u=>{let S=u.findIndex(k=>k.id===t);return S!==-1&&u.splice(S,1),u});v.value=l.options,w.value=l.activeOptionIndex,T.value=1}};Me([d,N,o],()=>b.closeCombobox(),O(()=>e.value===0)),Ce(fe,b),je(O(()=>K(e.value,{[0]:ne.Open,[1]:ne.Closed})));let M=O(()=>b.activeOptionIndex.value===null?null:v.value[b.activeOptionIndex.value].dataRef.value),f=O(()=>{var t;return(t=P(d))==null?void 0:t.closest("form")});return se(()=>{U([f],()=>{if(!f.value||a.defaultValue===void 0)return;function t(){b.change(a.defaultValue)}return f.value.addEventListener("reset",t),()=>{var m;(m=f.value)==null||m.removeEventListener("reset",t)}},{immediate:!0})}),()=>{let{name:t,disabled:m,form:l,...u}=a,S={open:e.value===0,disabled:m,activeIndex:b.activeOptionIndex.value,activeOption:M.value,value:h.value};return re(ue,[...t!=null&&h.value!=null?Ne({[t]:h.value}).map(([k,J])=>re(Be,De({features:Ee.Hidden,key:k,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,name:k,value:J}))):[],Q({theirProps:{...p,...be(u,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:S,slots:c,attrs:p,name:"Combobox"})])}}}),la=q({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${oe()}`}},setup(a,{attrs:c,slots:p,expose:g}){let e=ee("ComboboxButton");g({el:e.buttonRef,$el:e.buttonRef});function n(o){e.disabled.value||(e.comboboxState.value===0?e.closeCombobox():(o.preventDefault(),e.openCombobox()),$(()=>{var r;return(r=P(e.inputRef))==null?void 0:r.focus({preventScroll:!0})}))}function d(o){switch(o.key){case L.ArrowDown:o.preventDefault(),o.stopPropagation(),e.comboboxState.value===1&&e.openCombobox(),$(()=>{var r;return(r=e.inputRef.value)==null?void 0:r.focus({preventScroll:!0})});return;case L.ArrowUp:o.preventDefault(),o.stopPropagation(),e.comboboxState.value===1&&(e.openCombobox(),$(()=>{e.value.value||e.goToOption(V.Last)})),$(()=>{var r;return(r=e.inputRef.value)==null?void 0:r.focus({preventScroll:!0})});return;case L.Escape:if(e.comboboxState.value!==0)return;o.preventDefault(),e.optionsRef.value&&!e.optionsPropsRef.value.static&&o.stopPropagation(),e.closeCombobox(),$(()=>{var r;return(r=e.inputRef.value)==null?void 0:r.focus({preventScroll:!0})});return}}let N=ye(O(()=>({as:a.as,type:c.type})),e.buttonRef);return()=>{var o,r;let v={open:e.comboboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:w,...T}=a,y={ref:e.buttonRef,id:w,type:N.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(o=P(e.optionsRef))==null?void 0:o.id,"aria-expanded":e.disabled.value?void 0:e.comboboxState.value===0,"aria-labelledby":e.labelRef.value?[(r=P(e.labelRef))==null?void 0:r.id,w].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:d,onClick:n};return Q({ourProps:y,theirProps:T,slot:v,attrs:c,slots:p,name:"ComboboxButton"})}}}),ia=q({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${oe()}`}},emits:{change:a=>!0},setup(a,{emit:c,attrs:p,slots:g,expose:e}){let n=ee("ComboboxInput"),d={value:!1};e({el:n.inputRef,$el:n.inputRef});let N=O(()=>{var i;let h=n.value.value;return P(n.inputRef)?typeof a.displayValue<"u"&&h!==void 0?(i=a.displayValue(h))!=null?i:"":typeof h=="string"?h:"":""});se(()=>{U([N,n.comboboxState],([i,h],[x,b])=>{if(d.value)return;let M=P(n.inputRef);M&&(b===0&&h===1||i!==x)&&(M.value=i)},{immediate:!0}),U([n.comboboxState],([i],[h])=>{if(i===0&&h===1){let x=P(n.inputRef);if(!x)return;let b=x.value,{selectionStart:M,selectionEnd:f,selectionDirection:t}=x;x.value="",x.value=b,t!==null?x.setSelectionRange(M,f,t):x.setSelectionRange(M,f)}})});let o=C(!1),r=C(null);function v(){o.value=!0}function w(){Fe().nextFrame(()=>{o.value=!1,r.value&&(n.openCombobox(),c("change",r.value),r.value=null)})}function T(i){switch(d.value=!0,i.key){case L.Backspace:case L.Delete:if(n.mode.value!==0||!n.nullable.value)return;let h=i.currentTarget;requestAnimationFrame(()=>{if(h.value===""){n.change(null);let x=P(n.optionsRef);x&&(x.scrollTop=0),n.goToOption(V.Nothing)}});break;case L.Enter:if(d.value=!1,n.comboboxState.value!==0||o.value)return;if(i.preventDefault(),i.stopPropagation(),n.activeOptionIndex.value===null){n.closeCombobox();return}n.selectActiveOption(),n.mode.value===0&&n.closeCombobox();break;case L.ArrowDown:return d.value=!1,i.preventDefault(),i.stopPropagation(),K(n.comboboxState.value,{[0]:()=>n.goToOption(V.Next),[1]:()=>n.openCombobox()});case L.ArrowUp:return d.value=!1,i.preventDefault(),i.stopPropagation(),K(n.comboboxState.value,{[0]:()=>n.goToOption(V.Previous),[1]:()=>{n.openCombobox(),$(()=>{n.value.value||n.goToOption(V.Last)})}});case L.Home:if(i.shiftKey)break;return d.value=!1,i.preventDefault(),i.stopPropagation(),n.goToOption(V.First);case L.PageUp:return d.value=!1,i.preventDefault(),i.stopPropagation(),n.goToOption(V.First);case L.End:if(i.shiftKey)break;return d.value=!1,i.preventDefault(),i.stopPropagation(),n.goToOption(V.Last);case L.PageDown:return d.value=!1,i.preventDefault(),i.stopPropagation(),n.goToOption(V.Last);case L.Escape:if(d.value=!1,n.comboboxState.value!==0)return;i.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&i.stopPropagation(),n.closeCombobox();break;case L.Tab:if(d.value=!1,n.comboboxState.value!==0)return;n.mode.value===0&&n.selectActiveOption(),n.closeCombobox();break}}function y(i){if(o.value){r.value=i;return}n.openCombobox(),c("change",i)}function B(){d.value=!1}let z=O(()=>{var i,h,x,b;return(b=(x=(h=a.defaultValue)!=null?h:n.defaultValue.value!==void 0?(i=a.displayValue)==null?void 0:i.call(a,n.defaultValue.value):null)!=null?x:n.defaultValue.value)!=null?b:""});return()=>{var i,h,x,b,M,f;let t={open:n.comboboxState.value===0},{id:m,displayValue:l,onChange:u,...S}=a,k={"aria-controls":(i=n.optionsRef.value)==null?void 0:i.id,"aria-expanded":n.disabled.value?void 0:n.comboboxState.value===0,"aria-activedescendant":n.activeOptionIndex.value===null||(h=n.options.value[n.activeOptionIndex.value])==null?void 0:h.id,"aria-labelledby":(M=(x=P(n.labelRef))==null?void 0:x.id)!=null?M:(b=P(n.buttonRef))==null?void 0:b.id,"aria-autocomplete":"list",id:m,onCompositionstart:v,onCompositionend:w,onKeydown:T,onInput:y,onBlur:B,role:"combobox",type:(f=p.type)!=null?f:"text",tabIndex:0,ref:n.inputRef,defaultValue:z.value,disabled:n.disabled.value===!0?!0:void 0};return Q({ourProps:k,theirProps:S,slot:t,attrs:p,slots:g,features:te.RenderStrategy|te.Static,name:"ComboboxInput"})}}}),sa=q({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(a,{attrs:c,slots:p,expose:g}){let e=ee("ComboboxOptions"),n=`headlessui-combobox-options-${oe()}`;g({el:e.optionsRef,$el:e.optionsRef}),ae(()=>{e.optionsPropsRef.value.static=a.static}),ae(()=>{e.optionsPropsRef.value.hold=a.hold});let d=Ke(),N=O(()=>d!==null?(d.value&ne.Open)===ne.Open:e.comboboxState.value===0);return Qe({container:O(()=>P(e.optionsRef)),enabled:O(()=>e.comboboxState.value===0),accept(o){return o.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:o.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute("role","none")}}),()=>{var o,r,v;let w={open:e.comboboxState.value===0},T={"aria-labelledby":(v=(o=P(e.labelRef))==null?void 0:o.id)!=null?v:(r=P(e.buttonRef))==null?void 0:r.id,id:n,ref:e.optionsRef,role:"listbox","aria-multiselectable":e.mode.value===1?!0:void 0},y=be(a,["hold"]);return Q({ourProps:T,theirProps:y,slot:w,attrs:c,slots:p,features:te.RenderStrategy|te.Static,visible:N.value,name:"ComboboxOptions"})}}}),ua=q({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(a,{slots:c,attrs:p,expose:g}){let e=ee("ComboboxOption"),n=`headlessui-combobox-option-${oe()}`,d=C(null);g({el:d,$el:d});let N=O(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===n:!1),o=O(()=>K(e.mode.value,{[0]:()=>e.compare(I(e.value.value),I(a.value)),[1]:()=>I(e.value.value).some(i=>e.compare(I(i),I(a.value)))})),r=O(()=>({disabled:a.disabled,value:a.value,domRef:d}));se(()=>e.registerOption(n,r)),Ie(()=>e.unregisterOption(n)),ae(()=>{e.comboboxState.value===0&&N.value&&e.activationTrigger.value!==0&&$(()=>{var i,h;return(h=(i=P(d))==null?void 0:i.scrollIntoView)==null?void 0:h.call(i,{block:"nearest"})})});function v(i){if(a.disabled)return i.preventDefault();e.selectOption(n),e.mode.value===0&&e.closeCombobox(),$e()||requestAnimationFrame(()=>{var h;return(h=P(e.inputRef))==null?void 0:h.focus()})}function w(){if(a.disabled)return e.goToOption(V.Nothing);e.goToOption(V.Specific,n)}let T=ke();function y(i){T.update(i)}function B(i){T.wasMoved(i)&&(a.disabled||N.value||e.goToOption(V.Specific,n,0))}function z(i){T.wasMoved(i)&&(a.disabled||N.value&&(e.optionsPropsRef.value.hold||e.goToOption(V.Nothing)))}return()=>{let{disabled:i}=a,h={active:N.value,selected:o.value,disabled:i},x={id:n,ref:d,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":o.value,disabled:void 0,onClick:v,onFocus:w,onPointerenter:y,onMouseenter:y,onPointermove:B,onMousemove:B,onPointerleave:z,onMouseleave:z};return Q({ourProps:x,theirProps:a,slot:h,attrs:p,slots:c,name:"ComboboxOption"})}}});var ra=Z("arrows-left-right","IconArrowsLeftRight",[["path",{d:"M21 17l-18 0",key:"svg-0"}],["path",{d:"M6 10l-3 -3l3 -3",key:"svg-1"}],["path",{d:"M3 7l18 0",key:"svg-2"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-3"}]]),ce=Z("language-hiragana","IconLanguageHiragana",[["path",{d:"M4 5h7",key:"svg-0"}],["path",{d:"M7 4c0 4.846 0 7 .5 8",key:"svg-1"}],["path",{d:"M10 8.5c0 2.286 -2 4.5 -3.5 4.5s-2.5 -1.135 -2.5 -2c0 -2 1 -3 3 -3s5 .57 5 2.857c0 1.524 -.667 2.571 -2 3.143",key:"svg-2"}],["path",{d:"M12 20l4 -9l4 9",key:"svg-3"}],["path",{d:"M19.1 18h-6.2",key:"svg-4"}]]),de=Z("play-card","IconPlayCard",[["path",{d:"M19 5v14a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2z",key:"svg-0"}],["path",{d:"M8 6h.01",key:"svg-1"}],["path",{d:"M16 18h.01",key:"svg-2"}],["path",{d:"M12 16l-3 -4l3 -4l3 4z",key:"svg-3"}]]),me=Z("player-pause-filled","IconPlayerPauseFilled",[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z","stroke-width":"0",fill:"currentColor",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z","stroke-width":"0",fill:"currentColor",key:"svg-1"}]]),ve=Z("wand","IconWand",[["path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3",key:"svg-0"}],["path",{d:"M15 6l3 3",key:"svg-1"}],["path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-2"}],["path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-3"}]]);const ca={role:"tablist","aria-orientation":"horizontal",class:"flex space-x-1 rounded-xl bg-theme-50 p-1 dark:bg-slate-800"},da=["title","id","onClick"],ma={class:"ml-2"},va={__name:"Tabs",props:{tabs:{type:Object,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(a,{emit:c}){const p=a,g=C(0),e=d=>{g.value=d},n=(d,N)=>{c("update:modelValue",d.value),e(N)};return U(()=>p.modelValue,d=>{const N=p.tabs.findIndex(o=>o.value===d);e(N)}),(d,N)=>(A(),D("div",null,[_("div",ca,[(A(!0),D(ue,null,pe(a.tabs,(o,r)=>(A(),D("button",{class:W(["flex w-full items-center justify-center rounded-lg py-2.5 text-xs font-medium leading-5 focus:outline-none md:text-sm",{"bg-theme text-white shadow":s(g)===r,"hover:bg-theme-100 dark:text-slate-300 dark:hover:bg-slate-700":s(g)!==r}]),title:o.title,id:`tabs-tab-${r}`,role:"tab",type:"button",key:r,onClick:v=>n(o,r)},[Oe(d.$slots,o.value,{},()=>[Ae(ie(o.value),1)]),_("div",ma,ie(o.label),1)],10,da))),128))])]))}},pa={class:"com-autocomplete"},ba={class:"relative"},fa={class:"relative w-full rounded-lg border-gray-300 bg-white text-left dark:border-none dark:bg-slate-800 sm:text-sm"},ha={key:0,class:"relative cursor-default select-none px-4 py-2 dark:text-gray-700"},ga=q({__name:"Autocomplete",props:{data:{type:Array,required:!0},modelValue:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:c}){const p=a,g=C(null);g.value=p.modelValue&&p.data.find(d=>d.id===p.modelValue)||null,U(g,d=>{d&&c("update:modelValue",d.id)}),U(()=>p.modelValue,d=>{g.value=p.data.find(N=>N.id===d)||null});const e=C("");let n=O(()=>e.value===""?p.data:p.data.filter(d=>d.queryText.toLowerCase().replace(/\s+/g,"").includes(e.value.toLowerCase().replace(/\s+/g,""))));return(d,N)=>(A(),D("div",pa,[R(s(oa),{modelValue:s(g),"onUpdate:modelValue":N[2]||(N[2]=o=>X(g)?g.value=o:null)},{default:E(()=>[_("div",ba,[_("div",fa,[R(s(ia),{class:"w-full rounded-lg py-2 pl-3 pr-10 text-sm leading-5 dark:bg-transparent",displayValue:o=>o.name,onChange:N[0]||(N[0]=o=>e.value=o.target.value),disabled:a.disabled},null,8,["displayValue","disabled"]),R(s(la),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:E(()=>[R(s(xe),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),R(s(Ge),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:N[1]||(N[1]=o=>e.value="")},{default:E(()=>[R(s(sa),{class:"absolute z-10 mt-1 max-h-96 w-full overflow-auto rounded-lg border bg-white text-base shadow-lg focus:outline-none dark:border-slate-600 dark:bg-slate-700 sm:text-sm"},{default:E(()=>[s(n).length===0&&s(e)!==""?(A(),D("div",ha," Nothing found. ")):j("",!0),(A(!0),D(ue,null,pe(s(n),o=>(A(),F(s(ua),{as:"template",key:o.id,value:o},{default:E(({selected:r,active:v})=>[_("li",{class:W(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-theme text-white":v,"":!v}])},[_("span",{class:W(["block truncate",{"font-medium":r,"font-normal":!r}])},ie(o.name),3),r?(A(),D("span",{key:0,class:W(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":v,"text-theme":!v}])},[R(s(we),{class:"h-5 w-5","aria-hidden":"true"})],2)):j("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])]))}}),Na={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:"аҧсуа бызшәа"},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:"አማርኛ"},an:{name:"Aragonese",nativeName:"aragonés"},ar:{name:"Arabic",nativeName:"اَلْعَرَبِيَّةُ"},as:{name:"Assamese",nativeName:"অসমীয়া"},av:{name:"Avaric",nativeName:"авар мацӀ"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azərbaycan dili"},ba:{name:"Bashkir",nativeName:"башҡорт теле"},be:{name:"Belarusian",nativeName:"беларуская мова"},bg:{name:"Bulgarian",nativeName:"български език"},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:"বাংলা"},bo:{name:"Tibetan",nativeName:"བོད་ཡིག"},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Català"},ce:{name:"Chechen",nativeName:"нохчийн мотт"},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},cs:{name:"Czech",nativeName:"čeština"},cu:{name:"Old Church Slavonic",nativeName:"ѩзыкъ словѣньскъ"},cv:{name:"Chuvash",nativeName:"чӑваш чӗлхи"},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:"ދިވެހި"},dz:{name:"Dzongkha",nativeName:"རྫོང་ཁ"},ee:{name:"Ewe",nativeName:"Eʋegbe"},el:{name:"Greek",nativeName:"Ελληνικά"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Español"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:"فارسی"},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"føroyskt"},fr:{name:"French",nativeName:"Français"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"Gàidhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaraní",nativeName:"Avañe'ẽ"},gu:{name:"Gujarati",nativeName:"ગુજરાતી"},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:"هَوُسَ"},he:{name:"Hebrew",nativeName:"עברית"},hi:{name:"Hindi",nativeName:"हिन्दी"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Kreyòl ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:"Հայերեն"},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Asụsụ Igbo"},ii:{name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"Iñupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"Íslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",nativeName:"日本語"},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:"ქართული"},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gĩkũyũ"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:"қазақ тілі"},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:"ខេមរភាសា"},kn:{name:"Kannada",nativeName:"ಕನ್ನಡ"},ko:{name:"Korean",nativeName:"한국어"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"कश्मीरी"},ku:{name:"Kurdish",nativeName:"Kurdî"},kv:{name:"Komi",nativeName:"коми кыв"},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:"Кыргызча"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"Lëtzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingála"},lo:{name:"Lao",nativeName:"ພາສາລາວ"},lt:{name:"Lithuanian",nativeName:"lietuvių kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latviešu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin M̧ajeļ"},mi:{name:"Māori",nativeName:"te reo Māori"},mk:{name:"Macedonian",nativeName:"македонски јазик"},ml:{name:"Malayalam",nativeName:"മലയാളം"},mn:{name:"Mongolian",nativeName:"Монгол хэл"},mr:{name:"Marathi",nativeName:"मराठी"},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:"ဗမာစာ"},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian Bokmål",nativeName:"Norsk bokmål"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"नेपाली"},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Diné bizaad"},ny:{name:"Chichewa",nativeName:"chiCheŵa"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"ଓଡ଼ିଆ"},os:{name:"Ossetian",nativeName:"ирон æвзаг"},pa:{name:"Panjabi",nativeName:"ਪੰਜਾਬੀ"},pi:{name:"Pāli",nativeName:"पाऴि"},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:"پښتو"},pt:{name:"Portuguese",nativeName:"Português"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Română"},ru:{name:"Russian",nativeName:"Русский"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:"संस्कृतम्"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"सिन्धी"},se:{name:"Northern Sami",nativeName:"Davvisámegiella"},sg:{name:"Sango",nativeName:"yângâ tî sängö"},si:{name:"Sinhala",nativeName:"සිංහල"},sk:{name:"Slovak",nativeName:"slovenčina"},sl:{name:"Slovenian",nativeName:"slovenščina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:"српски језик"},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:"தமிழ்"},te:{name:"Telugu",nativeName:"తెలుగు"},tg:{name:"Tajik",nativeName:"тоҷикӣ"},th:{name:"Thai",nativeName:"ไทย"},ti:{name:"Tigrinya",nativeName:"ትግርኛ"},tk:{name:"Turkmen",nativeName:"Türkmençe"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Türkçe"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"татар теле"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"ئۇيغۇرچە‎"},uk:{name:"Ukrainian",nativeName:"Українська"},ur:{name:"Urdu",nativeName:"اردو"},uz:{name:"Uzbek",nativeName:"Ўзбек"},ve:{name:"Venda",nativeName:"Tshivenḓa"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt"},vo:{name:"Volapük",nativeName:"Volapük"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"ייִדיש"},yo:{name:"Yoruba",nativeName:"Yorùbá"},za:{name:"Zhuang",nativeName:"Saɯ cueŋƅ"},zh:{name:"Chinese",nativeName:"中文"},zu:{name:"Zulu",nativeName:"isiZulu"}},H=Na;class G{static getLanguages(c=[]){return c.map(p=>({code:p,name:G.getName(p),nativeName:G.getNativeName(p)}))}static getName(c){return G.validate(c)?H[c].name:""}static getAllNames(){return Object.values(H).map(c=>c.name)}static getNativeName(c){return G.validate(c)?H[c].nativeName:""}static getAllNativeNames(){return Object.values(H).map(c=>c.nativeName)}static getCode(c){return Object.keys(H).find(g=>{const e=H[g];return e.name.toLowerCase()===c.toLowerCase()||e.nativeName.toLowerCase()===c.toLowerCase()})||""}static getAllCodes(){return Object.keys(H)}static validate(c){return H.hasOwnProperty(c)}}const le=[{cn:"自动",en:"Auto",code:"auto"},{cn:"中文简体",en:"Chinese (Simplified)",code:"zh-Hans"},{cn:"中文繁体",en:"Chinese (Traditional)",code:"zh-Hant"},{cn:"粤语",en:"Yue Chinese",code:"yue"},{cn:"文言文",en:"Classical Chinese",code:"wyw"},{cn:"英语",en:"English",code:"en"},{cn:"日语",en:"Japanese",code:"ja"},{cn:"韩语",en:"Korean",code:"ko"},{cn:"法语",en:"French",code:"fr"},{cn:"德语",en:"German",code:"de"},{cn:"西班牙语",en:"Spanish",code:"es"},{cn:"意大利语",en:"Italian",code:"it"},{cn:"俄语",en:"Russian",code:"ru"},{cn:"葡萄牙语",en:"Portuguese",code:"pt"},{cn:"荷兰语",en:"Dutch",code:"nl"},{cn:"波兰语",en:"Polish",code:"pl"},{cn:"阿拉伯语",en:"Arabic",code:"ar"},{cn:"南非语",en:"Afrikaans",code:"af"},{cn:"阿姆哈拉语",en:"Amharic",code:"am"},{cn:"阿塞拜疆语",en:"Azerbaijani",code:"az"},{cn:"白俄罗斯语",en:"Belarusian",code:"be"},{cn:"保加利亚语",en:"Bulgarian",code:"bg"},{cn:"孟加拉语",en:"Bengali",code:"bn"},{cn:"波斯尼亚语",en:"Bosnian",code:"bs"},{cn:"加泰罗尼亚语",en:"Catalan",code:"ca"},{cn:"宿务语",en:"Cebuano",code:"ceb"},{cn:"科西嘉语",en:"Corsican",code:"co"},{cn:"捷克语",en:"Czech",code:"cs"},{cn:"威尔士语",en:"Welsh",code:"cy"},{cn:"丹麦语",en:"Danish",code:"da"},{cn:"希腊语",en:"Greek",code:"el"},{cn:"世界语",en:"Esperanto",code:"eo"},{cn:"爱沙尼亚语",en:"Estonian",code:"et"},{cn:"巴斯克语",en:"Basque",code:"eu"},{cn:"波斯语",en:"Persian",code:"fa"},{cn:"芬兰语",en:"Finnish",code:"fi"},{cn:"斐济语",en:"Fijian",code:"fj"},{cn:"弗里斯兰语",en:"Frisian",code:"fy"},{cn:"爱尔兰语",en:"Irish",code:"ga"},{cn:"苏格兰盖尔语",en:"Scots Gaelic",code:"gd"},{cn:"加利西亚语",en:"Galician",code:"gl"},{cn:"古吉拉特语",en:"Gujarati",code:"gu"},{cn:"豪萨语",en:"Hausa",code:"ha"},{cn:"夏威夷语",en:"Hawaiian",code:"haw"},{cn:"希伯来语",en:"Hebrew",code:"he"},{cn:"印地语",en:"Hindi",code:"hi"},{cn:"苗语",en:"Hmong",code:"hmn"},{cn:"克罗地亚语",en:"Croatian",code:"hr"},{cn:"海地克里奥尔语",en:"Haitian Creole",code:"ht"},{cn:"匈牙利语",en:"Hungarian",code:"hu"},{cn:"亚美尼亚语",en:"Armenian",code:"hy"},{cn:"印尼语",en:"Indonesian",code:"id"},{cn:"伊博语",en:"Igbo",code:"ig"},{cn:"冰岛语",en:"Icelandic",code:"is"},{cn:"爪哇语",en:"Javanese",code:"jw"},{cn:"格鲁吉亚语",en:"Georgian",code:"ka"},{cn:"哈萨克语",en:"Kazakh",code:"kk"},{cn:"高棉语",en:"Khmer",code:"km"},{cn:"卡纳达语",en:"Kannada",code:"kn"},{cn:"库尔德语",en:"Kurdish",code:"ku"},{cn:"柯尔克孜语",en:"Kyrgyz",code:"ky"},{cn:"拉丁语",en:"Latin",code:"la"},{cn:"卢森堡语",en:"Luxembourgish",code:"lb"},{cn:"老挝语",en:"Lao",code:"lo"},{cn:"立陶宛语",en:"Lithuanian",code:"lt"},{cn:"拉脱维亚语",en:"Latvian",code:"lv"},{cn:"马尔加什语",en:"Malagasy",code:"mg"},{cn:"毛利语",en:"Maori",code:"mi"},{cn:"马其顿语",en:"Macedonian",code:"mk"},{cn:"马拉雅拉姆语",en:"Malayalam",code:"ml"},{cn:"蒙古语",en:"Mongolian",code:"mn"},{cn:"马拉地语",en:"Marathi",code:"mr"},{cn:"马来语",en:"Malay",code:"ms"},{cn:"马耳他语",en:"Maltese",code:"mt"},{cn:"缅甸语",en:"Myanmar (Burmese)",code:"my"},{cn:"尼泊尔语",en:"Nepali",code:"ne"},{cn:"挪威语",en:"Norwegian",code:"no"},{cn:"齐切瓦语",en:"Nyanja (Chichewa)",code:"ny"},{cn:"奥里亚语",en:"Odia (Oriya)",code:"or"},{cn:"旁遮普语",en:"Punjabi",code:"pa"},{cn:"普什图语",en:"Pashto",code:"ps"},{cn:"罗马尼亚语",en:"Romanian",code:"ro"},{cn:"卢旺达语",en:"Kinyarwanda",code:"rw"},{cn:"僧伽罗语",en:"Sinhala (Sinhalese)",code:"si"},{cn:"斯洛伐克语",en:"Slovak",code:"sk"},{cn:"斯洛文尼亚语",en:"Slovenian",code:"sl"},{cn:"萨摩亚语",en:"Samoan",code:"sm"},{cn:"修纳语",en:"Shona",code:"sn"},{cn:"索马里语",en:"Somali",code:"so"},{cn:"阿尔巴尼亚语",en:"Albanian",code:"sq"},{cn:"塞尔维亚语",en:"Serbian",code:"sr"},{cn:"塞尔维亚语-西里尔文",en:"Serbian-Cyrillic",code:"sr-Cyrl"},{cn:"塞尔维亚语-拉丁文",en:"Serbian-Latin",code:"sr-Latn"},{cn:"塞索托语",en:"Sesotho",code:"st"},{cn:"巽他语",en:"Sundanese",code:"su"},{cn:"瑞典语",en:"Swedish",code:"sv"},{cn:"斯瓦希里语",en:"Swahili",code:"sw"},{cn:"泰米尔语",en:"Tamil",code:"ta"},{cn:"泰卢固语",en:"Telugu",code:"te"},{cn:"塔吉克语",en:"Tajik",code:"tg"},{cn:"泰语",en:"Thai",code:"th"},{cn:"土库曼语",en:"Turkmen",code:"tk"},{cn:"菲律宾语",en:"Tagalog (Filipino)",code:"tl"},{cn:"土耳其语",en:"Turkish",code:"tr"},{cn:"鞑靼语",en:"Tatar",code:"tt"},{cn:"维吾尔语",en:"Uyghur",code:"ug"},{cn:"乌克兰语",en:"Ukrainian",code:"uk"},{cn:"乌尔都语",en:"Urdu",code:"ur"},{cn:"乌兹别克语",en:"Uzbek",code:"uz"},{cn:"越南语",en:"Vietnamese",code:"vi"},{cn:"科萨语",en:"Xhosa",code:"xh"},{cn:"意第绪语",en:"Yiddish",code:"yi"},{cn:"约鲁巴语",en:"Yoruba",code:"yo"},{cn:"祖鲁语",en:"Zulu",code:"zu"}].map(a=>{const c=a.code.toLowerCase().split("-")[0];return{cn:a.cn,en:a.en,code:a.code,name:G.getName(c),nativeNames:G.getNativeName(c)}});function Y(a){let c,p=a[0],g=1;for(;g<a.length;){const e=a[g],n=a[g+1];if(g+=2,(e==="optionalAccess"||e==="optionalCall")&&p==null)return;e==="access"||e==="optionalAccess"?(c=p,p=n(p)):(e==="call"||e==="optionalCall")&&(p=n((...d)=>p.call(c,...d)),c=void 0)}return p}const ya={class:"page-translate"},ka=_("span",null,"AI 翻译",-1),xa={class:"mb-4 w-full max-w-md"},wa={class:"flex w-full"},Sa={key:0,class:"mx-4 flex cursor-pointer items-center px-2 opacity-60 hover:opacity-100",title:"交换语言"},Ca={key:1,class:"w-1/2"},Ia={class:"mt-5 flex flex-col lg:flex-row"},_a={class:"h-full w-full lg:w-1/2"},Oa=["placeholder"],Aa={class:"mx-auto my-6 flex items-center lg:mx-4 lg:my-0"},Ta=["title"],Ra={key:0,class:"ts-loading-svg",viewBox:"25 25 50 50"},Pa=_("circle",{cx:"50",cy:"50",r:"20"},null,-1),Va=[Pa],La={class:"m-2"},za=["value","disabled"],Ma={class:"result-box-copy absolute right-2 top-2 flex"},ja={class:"data-copy-action"},qa=q({__name:"translate",setup(a){Te({title:"AI 翻译 - 基于文心大模型的 AI 翻译工具",meta:[{hid:"description",name:"description",content:"AI 翻译 - 基于文心大模型的 AI 翻译工具"}]});const c=qe(),{$toast:p}=Re(),g=C([{label:"翻译",value:"translate",title:"优于传统翻译软件"},{label:"润色（简洁）",value:"polish",title:"只输出润色后的文本"},{label:"润色（详尽）",value:"polish-detail",title:"附加解释修改原因"}]),e=C("translate"),n=le,d=le.map(f=>({id:f.code,name:f.cn,queryText:`${f.cn}${f.en}`})),N=le.map(f=>({id:f.code,name:f.cn,queryText:`${f.cn}${f.en}`})).slice(1),o=C("auto"),r=C("zh-Hans"),v=C(""),w=C(""),T=C(null),y=C(!1);new We(".data-copy-action",{text:function(t){return v.value}}).on("success",function(t){t.trigger.setAttribute("copy-success",""),setTimeout(()=>{t.trigger.removeAttribute("copy-success")},1e3)}),U(()=>e.value,f=>{(f==="polish"||f==="polish-detail")&&(o.value="en",r.value="zh-Hans")});function B(){if(o.value===r.value)return;const f=o.value;o.value=r.value,f==="auto"?r.value==="zh-Hans"?r.value="en":r.value="zh-Hans":r.value=f,v.value=""}function z(){return v.value.trim()}function i(){if(!c.$state.APIConfig.key)return p.error("请点击右上角配置 API Key");if(y.value||!w.value)return;y.value=!0,v.value="";const f={model:c.$state.APIConfig.model,temperature:0,max_tokens:2048,top_p:1,frequency_penalty:1,presence_penalty:1,messages:[]};if(e.value==="translate"){const t=n.find(u=>u.code===o.value).en,m=n.find(u=>u.code===r.value).en;let l=`translate from ${t} to ${m}`;o.value==="auto"&&(l=`translate to ${m}`),(o.value==="wyw"||o.value==="zh-Hans"||o.value==="zh-Hant")&&(r.value==="zh-Hant"?l="翻译成繁体白话文":r.value==="zh-Hans"?l="翻译成简体白话文":r.value==="yue"&&(l="翻译成粤语白话文")),f.messages=[{role:"system",content:l},{role:"user",content:w.value.trim()}],b(f)}else if(e.value==="polish"||e.value==="polish-detail"){let t="Revise the following sentences to make them more clear, concise, and coherent";const m=e.value==="polish-detail";switch(m&&(t=`${t}. Please note that you need to list the changes and briefly explain why`),o.value){case"zh-Hant":case"zh-Hans":t="润色此句",m&&(t=`${t}。请注意要列出更改以及简要解释一下为什么这么修改`);break;case"ja":t="この文章を装飾する",m&&(t=`${t}。変更点をリストアップし、なぜそのように変更したかを簡単に説明することに注意してください`);break;case"ru":t="Переформулируйте следующие предложения, чтобы они стали более ясными, краткими и связными",m&&(t=`${t}. Пожалуйста, обратите внимание на необходимость перечисления изменений и краткого объяснения причин таких изменений`);break;case"wyw":t="润色此句古文",m&&(t=`${t}。请注意要列出更改以及简要解释一下为什么这么修改`);break;case"yue":t="潤色呢句粵語",m&&(t=`${t}。記住要列出修改嘅內容同簡單解釋下點解要做呢啲更改`);break}f.messages=[{role:"system",content:t},{role:"user",content:w.value.trim()}],b(f)}}const h=Le();let x=null;function b(f){x=new AbortController;const t=x.signal;c.apiCompletion(f,{stream:!0,signal:t}).then(async m=>{Y([T,"access",l=>l.value,"optionalAccess",l=>l.focus,"call",l=>l()]),await Xe(m,{onProgress:l=>{v.value+=l,Y([h,"optionalAccess",u=>u.proxy,"optionalAccess",u=>u.$forceUpdate,"call",u=>u()])},onError:l=>{v.value+=`*【出现错误：${l}】*`},onSuccess:()=>{v.value=v.value.trim()},onEnd:()=>{y.value=!1,Y([h,"optionalAccess",l=>l.proxy,"optionalAccess",l=>l.$forceUpdate,"call",l=>l()])}})}).catch(async m=>{if(!t.aborted){if(m.response&&m.response.json){const l=await m.response.json();v.value+=`*【翻译出错：${l.error.message}】*`,Y([h,"optionalAccess",u=>u.proxy,"optionalAccess",u=>u.$forceUpdate,"call",u=>u()])}else v.value+=`*【翻译出错：${m}】*`,Y([h,"optionalAccess",l=>l.proxy,"optionalAccess",l=>l.$forceUpdate,"call",l=>l()]);y.value=!1}})}function M(){x&&x.abort(),y.value=!1,v.value+="*【请求已取消】*"}return(f,t)=>{const m=Se,l=va,u=ga,S=Ue;return A(),D("div",ya,[R(m,{shadow:"",fixed:""},{"nav-center":E(()=>[R(s(Ze)),ka]),_:1}),_("main",null,[R(S,null,{default:E(()=>[_("div",xa,[R(l,{tabs:s(g),modelValue:s(e),"onUpdate:modelValue":t[0]||(t[0]=k=>X(e)?e.value=k:null)},{translate:E(()=>[R(s(ce),{class:"h-5 w-5"})]),polish:E(()=>[R(s(ve),{class:"h-5 w-5"})]),"polish-detail":E(()=>[R(s(de),{class:"h-5 w-5"})]),_:1},8,["tabs","modelValue"])]),_("header",wa,[_("div",{class:W(["w-1/2",{"w-full":s(e)!=="translate"}])},[R(u,{data:s(d),modelValue:s(o),"onUpdate:modelValue":t[1]||(t[1]=k=>X(o)?o.value=k:null),disabled:s(y)},null,8,["data","modelValue","disabled"])],2),s(e)==="translate"?(A(),D("div",Sa,[R(s(ra),{size:20,onClick:B})])):j("",!0),s(e)==="translate"?(A(),D("div",Ca,[R(u,{data:s(N),modelValue:s(r),"onUpdate:modelValue":t[2]||(t[2]=k=>X(r)?r.value=k:null),disabled:s(y)},null,8,["data","modelValue","disabled"])])):j("",!0)]),_("div",Ia,[_("div",_a,[Pe(_("textarea",{class:"resize-none","onUpdate:modelValue":t[3]||(t[3]=k=>X(w)?w.value=k:null),placeholder:`请输入待${s(e)==="translate"?"翻译":"润色"}的内容。`,rows:"12",autofocus:""},null,8,Oa),[[Ve,s(w)]])]),_("div",Aa,[_("div",{class:"relative cursor-pointer rounded-full bg-theme text-white hover:opacity-90 dark:text-base",onClick:t[4]||(t[4]=k=>s(y)?M():i()),title:s(g).find(k=>k.value===s(e)).label},[s(y)?(A(),D("svg",Ra,Va)):j("",!0),_("div",La,[!s(y)&&s(e)==="translate"?(A(),F(s(ce),{key:0,size:25})):j("",!0),!s(y)&&s(e)==="polish"?(A(),F(s(ve),{key:1,size:25})):j("",!0),!s(y)&&s(e)==="polish-detail"?(A(),F(s(de),{key:2,size:25})):j("",!0),s(y)?(A(),F(s(me),{key:3,size:25})):j("",!0)])],8,Ta)]),_("div",{class:W(["result-box relative h-full w-full lg:block lg:w-1/2",{hidden:!s(v)}])},[_("textarea",{class:"resize-none",value:z(),readonly:"",tabindex:"0",ref_key:"result_textarea",ref:T,rows:"12",disabled:s(y)},null,8,za),_("div",Ma,[s(y)?(A(),F(s(me),{key:0,onClick:M,class:"mr-1 cursor-pointer opacity-50 hover:opacity-100",size:20})):j("",!0),_("div",ja,[!s(y)&&s(v)?(A(),F(s(Je),{key:0,class:"copy-icon",size:20})):j("",!0),!s(y)&&s(v)?(A(),F(s(Ye),{key:1,class:"copy-icon",size:20})):j("",!0)])])],2)])]),_:1})])])}}});export{qa as default};
