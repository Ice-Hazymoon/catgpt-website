import{ay as y,az as C,O as S,N as P,I as f}from"./entry.b980ff2a.js";function k(e,t){var a,s,i,l,c,o,r,n;for(a=e.length&3,s=e.length-a,i=t,c=3432918353,o=461845907,n=0;n<s;)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,++n,r=(r&65535)*c+(((r>>>16)*c&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(r&65535)*o+(((r>>>16)*o&65535)<<16)&4294967295,i^=r,i=i<<13|i>>>19,l=(i&65535)*5+(((i>>>16)*5&65535)<<16)&4294967295,i=(l&65535)+27492+(((l>>>16)+58964&65535)<<16);switch(r=0,a){case 3:r^=(e.charCodeAt(n+2)&255)<<16;break;case 2:r^=(e.charCodeAt(n+1)&255)<<8;break;case 1:r^=e.charCodeAt(n)&255,r=(r&65535)*c+(((r>>>16)*c&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(r&65535)*o+(((r>>>16)*o&65535)<<16)&4294967295,i^=r;break}return i^=e.length,i^=i>>>16,i=(i&65535)*2246822507+(((i>>>16)*2246822507&65535)<<16)&4294967295,i^=i>>>13,i=(i&65535)*3266489909+(((i>>>16)*3266489909&65535)<<16)&4294967295,i^=i>>>16,i>>>0}function L(){var e=["monospace","sans-serif","serif"],t="mmmmmmmmmmlli",a="72px",s=document.getElementsByTagName("body")[0],i=document.createElement("span");i.style.fontSize=a,i.innerHTML=t;var l={},c={};for(var o in e)i.style.fontFamily=e[o],s.appendChild(i),l[e[o]]=i.offsetWidth,c[e[o]]=i.offsetHeight,s.removeChild(i);function r(n){var d=!1;for(var h in e){i.style.fontFamily=n+","+e[h],s.appendChild(i);var p=i.offsetWidth!=l[e[h]]||i.offsetHeight!=c[e[h]];s.removeChild(i),d=d||p}return d}this.detect=r}let g;g=new L;class T{constructor(){this.id=this.get()}getCurrentResolution(){return screen.width+"x"+screen.height}getAvailableResolution(){return screen.availWidth+"x"+screen.availHeight}getColorDepth(){return screen.colorDepth}getDeviceXDPI(){return screen.deviceXDPI}getDeviceYDPI(){return screen.deviceYDPI}getScreenPrint(){return"Current Resolution: "+this.getCurrentResolution()+", Available Resolution: "+this.getAvailableResolution()+", Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()}getPlugins(){for(var t="",a=0;a<navigator.plugins.length;a++)a==navigator.plugins.length-1?t+=navigator.plugins[a].name:t+=navigator.plugins[a].name+", ";return t}getFonts(){for(var t=["Abadi MT Condensed Light","Adobe Fangsong Std","Adobe Hebrew","Adobe Ming Std","Agency FB","Aharoni","Andalus","Angsana New","AngsanaUPC","Aparajita","Arab","Arabic Transparent","Arabic Typesetting","Arial Baltic","Arial Black","Arial CE","Arial CYR","Arial Greek","Arial TUR","Arial","Batang","BatangChe","Bauhaus 93","Bell MT","Bitstream Vera Serif","Bodoni MT","Bookman Old Style","Braggadocio","Broadway","Browallia New","BrowalliaUPC","Calibri Light","Calibri","Californian FB","Cambria Math","Cambria","Candara","Castellar","Casual","Centaur","Century Gothic","Chalkduster","Colonna MT","Comic Sans MS","Consolas","Constantia","Copperplate Gothic Light","Corbel","Cordia New","CordiaUPC","Courier New Baltic","Courier New CE","Courier New CYR","Courier New Greek","Courier New TUR","Courier New","DFKai-SB","DaunPenh","David","DejaVu LGC Sans Mono","Desdemona","DilleniaUPC","DokChampa","Dotum","DotumChe","Ebrima","Engravers MT","Eras Bold ITC","Estrangelo Edessa","EucrosiaUPC","Euphemia","Eurostile","FangSong","Forte","FrankRuehl","Franklin Gothic Heavy","Franklin Gothic Medium","FreesiaUPC","French Script MT","Gabriola","Gautami","Georgia","Gigi","Gisha","Goudy Old Style","Gulim","GulimChe","GungSeo","Gungsuh","GungsuhChe","Haettenschweiler","Harrington","Hei S","HeiT","Heisei Kaku Gothic","Hiragino Sans GB","Impact","Informal Roman","IrisUPC","Iskoola Pota","JasmineUPC","KacstOne","KaiTi","Kalinga","Kartika","Khmer UI","Kino MT","KodchiangUPC","Kokila","Kozuka Gothic Pr6N","Lao UI","Latha","Leelawadee","Levenim MT","LilyUPC","Lohit Gujarati","Loma","Lucida Bright","Lucida Console","Lucida Fax","Lucida Sans Unicode","MS Gothic","MS Mincho","MS PGothic","MS PMincho","MS Reference Sans Serif","MS UI Gothic","MV Boli","Magneto","Malgun Gothic","Mangal","Marlett","Matura MT Script Capitals","Meiryo UI","Meiryo","Menlo","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Sans Serif","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU-ExtB","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","Miriam Fixed","Miriam","Mongolian Baiti","MoolBoran","NSimSun","Narkisim","News Gothic MT","Niagara Solid","Nyala","PMingLiU","PMingLiU-ExtB","Palace Script MT","Palatino Linotype","Papyrus","Perpetua","Plantagenet Cherokee","Playbill","Prelude Bold","Prelude Condensed Bold","Prelude Condensed Medium","Prelude Medium","PreludeCompressedWGL Black","PreludeCompressedWGL Bold","PreludeCompressedWGL Light","PreludeCompressedWGL Medium","PreludeCondensedWGL Black","PreludeCondensedWGL Bold","PreludeCondensedWGL Light","PreludeCondensedWGL Medium","PreludeWGL Black","PreludeWGL Bold","PreludeWGL Light","PreludeWGL Medium","Raavi","Rachana","Rockwell","Rod","Sakkal Majalla","Sawasdee","Script MT Bold","Segoe Print","Segoe Script","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Segoe UI","Shonar Bangla","Showcard Gothic","Shruti","SimHei","SimSun","SimSun-ExtB","Simplified Arabic Fixed","Simplified Arabic","Snap ITC","Sylfaen","Symbol","Tahoma","Times New Roman Baltic","Times New Roman CE","Times New Roman CYR","Times New Roman Greek","Times New Roman TUR","Times New Roman","TlwgMono","Traditional Arabic","Trebuchet MS","Tunga","Tw Cen MT Condensed Extra Bold","Ubuntu","Umpush","Univers","Utopia","Utsaah","Vani","Verdana","Vijaya","Vladimir Script","Vrinda","Webdings","Wide Latin","Wingdings"],a="",s=0;s<t.length;s++)g.detect(t[s])&&(s==t.length-1?a+=t[s]:a+=t[s]+", ");return a}isLocalStorage(){try{return!!window.localStorage}catch{return!0}}isSessionStorage(){try{return!!window.sessionStorage}catch{return!0}}getTimeZone(){var t,a,s,i;return t=new Date,a=String(-(t.getTimezoneOffset()/60)),a<0?(a=a*-1,s=("0"+a).slice(-2),i="-"+s):(s=("0"+a).slice(-2),i="+"+s),i}getLanguage(){return navigator.language}getSystemLanguage(){return navigator.systemLanguage||window.navigator.language}isCookie(){return navigator.cookieEnabled}getCanvasPrint(){var t=document.createElement("canvas"),a;try{a=t.getContext("2d")}catch{return""}var s="ClientJS,org <canvas> 1.0";return a.textBaseline="top",a.font="14px 'Arial'",a.textBaseline="alphabetic",a.fillStyle="#f60",a.fillRect(125,1,62,20),a.fillStyle="#069",a.fillText(s,2,15),a.fillStyle="rgba(102, 204, 0, 0.7)",a.fillText(s,4,17),t.toDataURL()}get(){var t="|",a=navigator.userAgent,s=this.getScreenPrint(),i=this.getPlugins(),l=this.getFonts(),c=this.isLocalStorage(),o=this.isSessionStorage(),r=this.getTimeZone(),n=this.getLanguage(),d=this.getSystemLanguage(),h=this.isCookie(),p=this.getCanvasPrint(),b=a+t+s+t+i+t+l+t+c+t+o+t+r+t+n+t+d+t+h+t+p,v=256;return k(b,v)}}const x="catgpt-website",A="0.0.1",U={WEB:"0.0.1",ANDROID:"0.0.1",CHROME:"0.0.1",TAURI:"0.0.1"},R={build:"nuxt build",dev:"cross-env NUXT_PLATFORM=web nuxt dev","dev:tauri":"cross-env NUXT_PLATFORM=tauri tauri dev","dev:chrome":"cross-env NUXT_PLATFORM=chrome nuxt dev",generate:"cross-env NUXT_PLATFORM=web nuxt generate","generate:chrome":"cross-env NUXT_PLATFORM=chrome nuxt generate && npm run build:extension","build:extension":"vite build --config extension/vite.config.extension.ts && vite build --config extension/vite.config.background.ts",pack:"cross-env NODE_ENV=production run-p pack:*","pack:crx":"crx pack dist -o ./build/extension.crx -p ./extension/key/key.pem","pack:zip":"rimraf ./build/extension.zip && jszip-cli add ./dist/* -o ./build/extension.zip","pack:xpi":"cross-env WEB_EXT_ARTIFACTS_DIR=./build web-ext build --source-dir ./dist --filename extension.xpi --overwrite-dest",preview:"nuxt preview",postinstall:"nuxt prepare",prettier:"npx prettier --write ./**/*.vue ./assets/scss/**/*.scss",deploy:"cross-env NODE_DEBUG=gh-pages gh-pages -d dist -r git@github.com:Ice-Hazymoon/catgpt-website.git -b master -f --dotfiles","open-android":"npx cap run android","sync-android":"npx cap sync","set-android-version":"capacitor-set-version set:android","generate-icon":"npx capacitor-assets generate --android --iconBackgroundColor #ffffff --iconBackgroundColorDark #222222 --splashBackgroundColor #ffffff --splashBackgroundColorDark #111111 --logoSplashScale 0.4","generate-key":"keytool -genkey -v -keystore ./keystore/sign.keystore -alias mikutools -keyalg RSA -keysize 2048 -validity 3650","build-release-apk":"npx cap sync && cd ./android && ./gradlew clean && ./gradlew assembleRelease && cd ../ && zipalign -v 4 ./android/app/build/outputs/apk/release/app-release-unsigned.apk ./catgpt-release.apk && apksigner sign --ks ./keystore/sign.keystore --ks-key-alias catgpt catgpt-release.apk","update:nuxt":"nuxi upgrade --force","clean:gh-cache":"gh-pages-clean"},w={"@capacitor/android":"5.0.3","@capacitor/app":"5.0.2","@capacitor/assets":"^2.0.4","@capacitor/browser":"5.0.2","@capacitor/cli":"5.0.3","@capacitor/clipboard":"5.0.2","@capacitor/core":"5.0.3","@capacitor/device":"5.0.2","@capacitor/dialog":"5.0.2","@capacitor/filesystem":"5.0.2","@capacitor/network":"5.0.2","@capacitor/preferences":"5.0.2","@capacitor/splash-screen":"5.0.2","@capacitor/status-bar":"5.0.2","@capacitor/storage":"^1.2.5","@capacitor/toast":"5.0.2","@capgo/capacitor-updater":"^4.61.8","@nuxt/devtools":"^0.5.5","@nuxtjs/i18n":"8.0.0-beta.11","@tauri-apps/cli":"^1.3.1","@types/canvas-confetti":"^1.6.0","@types/lodash-es":"^4.17.7","@types/marked":"^5.0.0","@types/semver":"^7.5.0","@types/wavesurfer.js":"^6.0.6","@vite-pwa/nuxt":"^0.1.0","capacitor-native-settings":"^5.0.0","capacitor-set-version":"^2.0.13","cross-env":"^7.0.3",electron:"^24.3.1","electron-builder":"^23.6.0","gh-pages":"^5.0.0",nuxt:"^3.5.3","nuxt-electron":"^0.4.5","nuxt-security":"^0.13.0","postcss-easing-gradients":"^3.0.1",prettier:"^2.8.8","prettier-plugin-tailwindcss":"^0.3.0","vite-electron-plugin":"^0.8.2","vite-plugin-electron-renderer":"^0.14.5",vue:"^3.3.4","web-ext":"^7.6.2"},M={"@ffflorian/jszip-cli":"^3.4.1","@headlessui/vue":"^1.7.14","@mozilla/readability":"^0.4.4","@nuxtjs/tailwindcss":"^6.7.0","@pinia-plugin-persistedstate/nuxt":"^1.1.1","@pinia/nuxt":"^0.4.11","@tabler/icons":"^2.22.0","@tabler/icons-vue":"^2.22.0","@tailwindcss/typography":"^0.5.9","@vueuse/core":"^10.1.2","@vueuse/nuxt":"^10.1.2",Base64:"^1.2.0","abortcontroller-polyfill":"^1.7.5",animejs:"^3.2.1","canvas-confetti":"^1.6.0",clipboard:"^2.0.11",crx:"^5.0.1",docxtemplater:"^3.37.10","fix-webm-duration":"^1.0.5","html-to-image":"^1.11.11","idb-keyval":"^6.2.1","iso-639-1":"^2.1.15","lodash-es":"^4.17.21",marked:"^5.1.0",nanoid:"^4.0.2","npm-run-all":"^4.1.5","pdfjs-dist":"^3.7.107",pizzip:"^3.1.4","postcss-pxtorem":"^6.0.0","postcss-replace":"^2.0.1","postcss-safe-important":"^1.2.1",promptable:"^0.0.10","rehype-highlight":"^6.0.0","rehype-katex":"^6.0.3","rehype-stringify":"^9.0.3","remark-breaks":"^3.0.3","remark-gfm":"^3.0.1","remark-math":"^5.1.1","remark-parse":"^10.0.2","remark-rehype":"^10.1.0","remark-toc":"^8.0.1",rimraf:"^5.0.1",sass:"^1.63.3",semver:"^7.5.1",siriwave:"^2.3.0",unified:"^10.1.2",vfile:"^6.0.0","vue-gtag":"^2.0.1","vue-tsc":"^1.6.5","vue3-emoji-picker":"^1.1.7","vue3-toastify":"^0.1.11","vuejs-confirm-dialog":"^0.5.0","wavesurfer.js":"7.0.0-beta.4","webext-bridge":"^6.0.1","webextension-polyfill":"^0.10.0","webm-duration-fix":"^1.0.4"},B="pnpm@7.28.0",I={"@volar/vue-language-core":{dependencies:{minimatch:"^6.2.0"}}},G={name:x,private:!0,version:A,_version:U,scripts:R,devDependencies:w,dependencies:M,packageManager:B,overrides:I};let m;m=new T().id.toString();Date.prototype.toUTCString=function(){const e=this.getSeconds();return this.setSeconds(e%2===0?e+1:e),this.toISOString().replace(/T/," ").replace(/\..+/,"")};const u=e=>e.stopPropagation(),D=y("globalState",{state:()=>{const e=f(),t=e.public.isDev,a=e.public.PLATFORM;return{theme:"light",loading:!1,welcome:!0,APIBaseURL:t?"http://localhost:3333":"https://api.catgpt.cc",APIConfig:{top_p:.8,temperature:.5,presence_penalty:1,frequency_penalty:0,max_tokens:2e3,system_message:"",key:"",base_url:"",model:"gpt-3.5-turbo",supportContext:!0,memoryNumber:4,voice:"zh-CN-XiaoqiuNeural",azureTTS:{key:"",region:"",autoPlay:!1},supportTTS:!1},user:{mail:"",token:""},unlock:!1,app:{version:G._version[a],realVersion:"",platform:a,isApp:a!=="web"},noticeId:0,env:{isDev:t,isProd:!t,pay_redirect_url:t?"https://localhost:3000/pay-redirect.html":"https://okmiku.com/pay-redirect.html"},isMobile:!1,disabledWheel:!1}},persist:{paths:["theme","welcome","APIConfig","user","noticeId","unlock"],storage:C.localStorage,async afterRestore(e){f().public.PLATFORM==="chrome"&&(console.log("restore",e.store.$state),await S("catgpt-store-globalState",{version:new Date().getTime(),data:P(e.store.$state)}))}},getters:{baseURL(){return this.APIConfig.key?this.isCatKey?this.APIBaseURL:this.APIConfig.base_url||"https://api.openai.com":this.APIBaseURL},isCatKey(){return/^(cat)-[0-9A-Za-z]{48}$/.test(this.APIConfig.key)},headers(){const e=new Date;return{"X-Platform":this.app.platform,"X-Date":e.toUTCString(),"X-Fingerprint":m,"X-App-Version":this.app.version}},headersWithToken(){const e=this.APIConfig.key?{authorization:"Bearer "+this.APIConfig.key}:{};return Object.assign({},this.headers,e)}},actions:{disabledMouseWheel(e){e?document.addEventListener("wheel",u,{passive:!0}):document.removeEventListener("wheel",u),this.disabledWheel=e},async apiCheckUpdate(){return $fetch("/update",{baseURL:this.APIBaseURL,headers:this.headersWithToken,method:"GET"})},async apiCheckKey(e){const t=/^(cat)-[0-9A-Za-z]{48}$/.test(e);return await $fetch("/dashboard/billing/subscription",{baseURL:t?`${this.APIBaseURL}/ai`:this.APIConfig.base_url||"https://api.openai.com",headers:{...this.headers,Authorization:`Bearer ${e}`},method:"GET"})},async apiParseWebPage(e){return $fetch("/parseWebPage",{baseURL:this.isCatKey||!this.APIConfig.key?`${this.baseURL}/ai`:this.baseURL,headers:this.headersWithToken,method:"POST",body:JSON.stringify({url:e})})},async apiQueryKey(e){return $fetch("/pay/queryKey",{baseURL:this.APIBaseURL,method:"POST",body:JSON.stringify({orderNo:e})})},async apiComputeTokens(e){return $fetch("/computeTokens",{baseURL:this.isCatKey||!this.APIConfig.key?`${this.baseURL}/ai`:this.baseURL,headers:this.headersWithToken,method:"POST",body:JSON.stringify({input:e})})},async apiEmbedding(e){return $fetch("/v1/embeddings",{baseURL:this.isCatKey||!this.APIConfig.key?`${this.baseURL}/ai`:this.baseURL,headers:this.headersWithToken,method:"POST",body:JSON.stringify({model:"text-embedding-ada-002",input:e})})},async apiCompletion(e,t){return $fetch("/v1/chat/completions",{baseURL:this.isCatKey||!this.APIConfig.key?`${this.baseURL}/ai`:this.baseURL,method:"POST",body:JSON.stringify(e),headers:this.headersWithToken,responseType:t.stream?"stream":"json",signal:t.signal})},async apiPayCreateOrder(e,t,a){return $fetch("/pay/createOrder",{baseURL:this.APIBaseURL,method:"POST",body:JSON.stringify({product:e,payType:t}),headers:Object.assign({"cat-platform":this.app},a?{authorization:a?`Bearer ${a}`:void 0}:{})})},async apiPayCloseOrder(e){return $fetch("/pay/closeOrder",{baseURL:this.APIBaseURL,method:"POST",body:JSON.stringify({orderNo:e}),headers:this.headersWithToken})},async apiPayCheckOrder(e){return $fetch("/pay/checkOrder",{baseURL:this.APIBaseURL,method:"POST",body:JSON.stringify({orderNo:e}),headers:this.headersWithToken})},async apiPayGetProducts(){return $fetch("/pay/getProducts",{baseURL:this.APIBaseURL,method:"GET",headers:this.headersWithToken})},async apiAppGetNotice(){return $fetch("/app/notice",{baseURL:this.APIBaseURL,method:"GET",headers:this.headersWithToken,responseType:"json"})},async apiAppGetNotices(){return $fetch("/app/notices",{baseURL:this.APIBaseURL,method:"GET",headers:this.headersWithToken,responseType:"json"})},async apiAppCreateNotice(e){return $fetch("/app/notice",{baseURL:this.APIBaseURL,method:"POST",body:JSON.stringify(e),headers:this.headersWithToken})},async apiWhisper(e){const t=new FormData;return t.append("file",e),t.append("model","whisper-1"),$fetch("/v1/audio/transcriptions",{baseURL:this.isCatKey||!this.APIConfig.key?`${this.baseURL}/ai`:this.baseURL,method:"POST",body:t,headers:this.headersWithToken})},async apiGetAzureVoices(){return $fetch("/tts/voices",{baseURL:this.APIBaseURL,method:"GET",headers:this.headersWithToken})},async apiCreateAzureTTS(e,t,a){return $fetch("/tts/create",{baseURL:this.APIBaseURL,method:"POST",body:JSON.stringify({text:e,voiceId:t}),headers:this.headersWithToken,responseType:"blob"})}}});export{D as u};
