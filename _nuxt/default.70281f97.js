import{a as w,s as u,y as $,o as n,b as c,u as t,e as r,t as C,A as m,B,D as P,G as A,E as D,q as N,l as I,x as L,c as S,$ as T,f as y,i as O,h as R,I as V}from"./entry.b980ff2a.js";import{u as b}from"./index.b7543822.js";import{_ as z}from"./LoadingSvg.54a92436.js";import{_ as E}from"./Dialog.876fc127.js";import{m as G}from"./marked.esm.c4f1ef09.js";const K={class:"com-password"},F={key:0,class:"mb-8"},H={key:1,class:"flex w-96 max-w-full"},U=["onKeydown"],q=w({__name:"Password",setup(x){const e=u(""),_=b(),i=Math.floor(Math.random()*10),p=Math.floor(Math.random()*10),f=`${i} x ${p} = ?`,d=u(!1);$(()=>{d.value=!0});function l(){e.value==(i*p).toString()?_.$state.unlock=!0:(alert("验证失败"),e.value="")}return(v,o)=>(n(),c("div",K,[t(d)?(n(),c("div",F,[r("h1",{class:"text-3xl font-bold"},C(f))])):m("",!0),t(d)?(n(),c("div",H,[B(r("input",{autofocus:"","onUpdate:modelValue":o[0]||(o[0]=s=>A(e)?e.value=s:null),type:"text",placeholder:"",onKeydown:D(l,["enter"])},null,40,U),[[P,t(e)]]),r("button",{class:"button button-theme ml-2",onClick:l},"提交")])):m("",!0)]))}});const W={key:2,class:"global-loading"},j={class:"prose my-6 max-w-none dark:prose-invert prose-p:my-3 prose-ul:my-3 prose-li:my-1"},J=["innerHTML"],et=w({__name:"default",setup(x){const e=b(),{$toast:_}=N(),i=V(),{t:p,locales:f,setLocale:d,locale:l}=I(),v=L(()=>e.$state.loading);e.$state.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;const o=u({open:!1,data:{title:"",content:"",created_at:""}});return $(()=>{l.value==="zh-CN"&&e.apiAppGetNotice().then(s=>{if(s.data){const a=+new Date(s.data.created_at);e.$state.noticeId!==a&&(o.value.open=!0,o.value.data=s.data,e.$state.noticeId=+new Date(s.data.created_at))}}).catch(s=>{_.error(`获取通知失败：${s}`)})}),u({open:!1}),(s,a)=>{const g=q,k=z,M=E;return n(),c("div",{class:R(["default-layout",{"is-extension":t(i).public.PLATFORM==="chrome","is-cn":t(l)==="zh-CN"}])},[!t(e).$state.unlock&&t(i).public.PLATFORM==="web"?(n(),S(g,{key:0})):T(s.$slots,"default",{key:1}),t(v)?(n(),c("div",W,[y(k)])):m("",!0),y(M,{visible:t(o).open,"onUpdate:visible":a[0]||(a[0]=h=>t(o).open=h),onConfirm:a[1]||(a[1]=h=>t(o).open=!1),title:`通知：${t(o).data.title}`,showCancelButton:!1,confirmButtonText:"知道了！"},{content:O(()=>[r("div",j,[r("div",{innerHTML:t(G)(t(o).data.content)},null,8,J)])]),_:1},8,["visible","title"])],2)}}});export{et as default};
